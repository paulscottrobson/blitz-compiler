; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		wait.asm
;		Purpose:	Wait command
;		Created:	21st April 2023
;		Reviewed: 	No
;		Author : 	Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section 	code

; ************************************************************************************************
;
;										WAIT command
;
; ************************************************************************************************

CommandWAIT: ;; [!wait]
		.entercmd
		lda 	NSMantissa0-2,x 			; get wait address
		sta 	zTemp0
		lda 	NSMantissa1-2,x
		sta 	zTemp0+1
_WaitLoop:
		lda 	(zTemp0) 					; read it
		and 	NSMantissa0-1,x		 		; and with mask
		eor 	NSMantissa0-0,x 			; toggle
		beq 	_WaitLoop 					; keep going if zero

		dex 								; drop 3.
		dex
		dex
		.exitcmd


; ************************************************************************************************

		.send 	code
		
; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
