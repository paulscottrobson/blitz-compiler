; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		str.asm
;		Purpose:	Convert number to string
;		Created:	11th April 2023
;		Reviewed: 	No
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section code

; ************************************************************************************************
;
;										str$() function
;
; ************************************************************************************************

Unary_Str: ;; [str$]
		.entercmd
		phy
		lda 	#8 							; maximum decimal places.
		jsr 	FloatToString 				; do the conversion.
		lda		#33 						; create buffer
		jsr 	StringAllocTemp 			; allocate memory		
		ldy 	#1  						; copy the converted string into the buffer.
_USCopy:
		lda 	decimalBuffer-1,y
		beq 	_USExit
		sta 	(zsTemp),y
		iny
		bra 	_USCopy
_USExit:		
		tya
		dec 	a
		sta 	(zsTemp)
		ply
		.exitcmd

		.send 	code
		
; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
