; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		sgn.asm
;		Purpose:	Sign of TOS
;		Created:	11th April 2023
;		Reviewed: 	No
;		Author : 	Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section 	code

; ************************************************************************************************
;
;									 Signed part of TOS
;
; ************************************************************************************************

SignTOS:	;; [sgn]
		.entercmd
		jsr 	FloatIsZero 				; if zero
		beq 	_SGZero  					; return Int Zero

		lda 	NSStatus,x 					; get status w/sign
		pha
		lda 	#1 							; set result to 1
		jsr 	FloatSetByte
		pla
		and		#$80 						; copy the sign byte out
		sta 	NSStatus,x  				; so it will be -1 or 1
		bra 	_SGExit

_SGZero:
		jsr 	FloatSetZero
_SGExit:
		.exitcmd

		.send 	code

; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
