; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		pushnumber.asm
;		Purpose:	Push number onto stack 
;		Created:	14th April 2023
;		Reviewed: 	No
;		Author : 	Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section 	code

; ************************************************************************************************
;
;								Push Number <EXP> <MANTISSA W/SIGN>
;
; ************************************************************************************************

CommandPushN: ;; [.float]
		.entercmd

		inx 								; next slot on stack		

		lda 	(codePtr),y 				; exponent
		sta 	NSExponent,x
		iny

		lda 	(codePtr),y 				; mantissa
		sta 	NSMantissa0,x
		iny
		lda 	(codePtr),y 				
		sta 	NSMantissa1,x
		iny
		lda 	(codePtr),y 				
		sta 	NSMantissa2,x
		iny
		lda 	(codePtr),y 				
		pha
		and 	#$7F
		sta 	NSMantissa3,x
		pla 								; sign in mantissa3:7
		and 	#$80
		sta 	NSStatus,x
		iny
		.exitcmd

		.send 	code
		
; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
