; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		sin_core.asm
;		Purpose:	Core SIN() polynomial
;		Created:	11th April 2023
;		Reviewed: 	No
;		Author : 	Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section 	code

; ************************************************************************************************
;
;									calculates SIN()
;
; ************************************************************************************************

CoreSine: 	
		lda 	#SinCoefficients & $FF
		ldy 	#SinCoefficients >> 8

; ************************************************************************************************
;
;					Do the x^2 polynomials (e.g. all other than EXP())
;
; ************************************************************************************************

CorePolySquared:
		pha 								; save coefficient table
		phy

		txa 								; copy X to +1, +2
		tay
		iny
		jsr 	CopyFloatXY
		iny
		jsr 	CopyFloatXY
		inx 								; point to the pair and put x^2 on stack
		inx
		jsr 	FloatMultiply
		ply 								; coefficient table back.
		pla
		jsr 	CalculateHornerPolynomial
		txa 								; copy back to slot #1
		tay
		dey
		jsr	 	CopyFloatXY		
		dex 								; point at result
		rts

		.send 	code

; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
