; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		tan.asm
;		Purpose:	Tangent function.
;		Created:	11th April 2023
;		Reviewed: 	No
;		Author : 	Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section 	code

; ************************************************************************************************
;
;									calculate TAN(x)
;
; ************************************************************************************************

FloatTangent: 	
		phx
		txa 								; sin -> +1
		tay
		iny
		jsr 	CopyFloatXY
		inx
		jsr 	FloatSine 				
		dex

		txa 								; cos -> +2
		tay
		iny
		iny
		jsr 	CopyFloatXY		
		inx
		inx
		jsr 	FloatCosine 				

		jsr 	FloatDivide 				; calculate sin/cos
		bcs 	_FTExit 					; divide by zero

		txa 								; copy result down.
		tay
		dey
		jsr 	CopyFloatXY 				

		clc
_FTExit:
		plx	
		rts		


		.send 	code

; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
