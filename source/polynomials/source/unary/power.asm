; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		power.asm
;		Purpose:	Power operator
;		Created:	11th April 2023
;		Reviewed: 	No
;		Author : 	Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section 	code

; ************************************************************************************************
;
;								calculate S[0] ^ S[1]
;
; ************************************************************************************************

FloatPower: 
		dex

		txa 							; copy 0 to 2, so we can process it
		tay
		iny
		iny
		jsr 	CopyFloatXY

		inx 							; 2 = Log(0)
		inx

		jsr 	FloatLogarithm
		bcs 	_FPWExit
	
		jsr 	FloatMultiply			; Multiply by original 1, into 1.

		txa 							; copy to slot 0
		tay
		dey
		jsr 	CopyFloatXY

		dex  							; Exponent code.

		jsr 	FloatExponent				
_FPWExit:		
		rts
		
		.send 	code

; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************
